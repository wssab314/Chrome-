# 🐶 插件平台愿景

Chrome插件是所有Chrome功能中最受喜爱和最常用的功能之一。插件可以为各种各样的用户解决他们的需求，以某种方式来说插件正在成为大多数浏览器稳定的功能。

我们的开发者社区正在蓬勃发展，其中有成百上千的已经发布的插件。强大的用户基数使得每天有百万次的插件下载。我们将会持续的提高和扩展这个插件生态圈。

这篇主要阐述了Chrome插件平台的长远规划，这将帮助开发者理解平台功能的发展趋向。

## 历史背景

自从我们开始使用web浏览器以来，就有各式各样的浏览器插件出现。插件通过特殊的功能和更适配用户需求，做到了更好的赋能用户。

Chrome插件平台是基于网状模型的，来最小化开发的入门门槛。通过web技术和web安全模型来开发也被认为是一个让平台更加安全的举措。

之后Chrome插件推出了用户权限模型来给予用户细粒度的控制权，去控制什么样的信息和资源是他们安装的插件可以访问的。

![](<../../.gitbook/assets/image (2).png>)

开发者可以使用我们的平台开发各种各样的插件，在用户使用浏览器的过程中，寄语用户各种各样的功能增强操作。但是插件平台的能力有时候会被滥用，去访问一些用户的隐私数据。从这里我们可以看到隐私性和安全性是我们可以去提升的方向。在保留页面性和能力的同时，我们也会尽可能的去提升插件的性能。

## 我们的目标

Chrome插件平台在持续的进化。我们已经明确了方向，在提高安全性、性能和隐私性上。在保留或拓展插件的能力的同时，保留组件化、网络化的开发体验。

![](<../../.gitbook/assets/image (4).png>)

**隐私性** —— 我们将提供各种各样的方式，来让插件可以在不即时访问用户数据的情况下运行。通过提示用户插件正在做什么事来提高用户对于插件权限的控制，让插件在运行时和上下文中去申请权限。

**安全性** —— 对于插件对上下文以外资源的请求与访问，添加更严格的协议和要求

**性能** —— 确保插件在所有设备上均可以正常运行，性能提升并不应该降低用户的浏览器体验。并且让即使安装了很多插件的Chrome也可以丝滑的运行

**Webbiness** —— 拥抱web平台的特性，降低开发者门槛，在web平台不断进化的过程中受益。

**容量** —— 总的来说，让平台更有能力、更健壮并且功能齐全，这样插件才可以持续的提高并且带给用户更好的数据体验。

## 开发者和用户体验

插件平台的持续进化会引发匹配更多的开发者和端用户体验。下面的几节将描述一些我们即将退出的特殊的功能及途径。

### 提高用户可见度和控制

插件平台将给到更好的用户可见度和控制权，使得用户可以更简单的去管理插件访问资源和用户数据的方式，平台已经通过如下的方式去处理了：

* 让用户确认是否给到插件主机权限
* 插件的菜单将会显示哪一个插件可以，或想去访问当前页面

我们将会持续的提升用户体验，寻找一个能短时间提升，以上下文形式的权限授予方式，约束被动的访问用户数据的权限。activeTab的介绍就是以这个方向的初始化工作。

让用户去决定他们的数据是如何被访问和处理的也是非常重要的。我们将会介绍一个新的方式来帮助用户明白每个插件访问的数据和他们使用的方式，所以用户可以控制他们的数据。

### 一种新的访问用户数据的方式

很多插件就坚持不懈的想去访问用户的数据：用户在安装时给予了权限，插件可以在任何时间访问数据。我们正在逐渐移除现在这种访问模型，取而代之的，我们希望用户能实时的给予插件权限，一半是在插件执行到需要进行该权限的上下文时。

除此之外，我们会提供新的API功能来帮助插件在使用过程中无需申请数据访问权限。Chrome的declarativeNetRequest是一个如此访问的例子。

### 更好的对齐web平台

Chrome插件始终是基于Web技术来进行构建和拓展的。这能够很好的削弱开发者的门槛。寻找并适配更多的开放web能力，致力于扩展插件独特的技术。

当一个页面开发了一种获取到内容的方式，插件平台将会以插件的形式去适配它。

在服务woker和promise之上，期望插件平台可以持续的适配现代化的web技术和新出现的技术。我们的愿景是跟随并覆盖他，而不是分离他们的功能。

### 扩展能力

我们也会持续的改进插件平台，甚至超出我们的预期。插件平台将会进化为新的应用方法、新的扩展能力和随时跟进新的功能。（啥！啥！啥！这写的都是啥！）

