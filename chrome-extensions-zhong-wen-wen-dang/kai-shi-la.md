# ðŸ¼ å¼€å§‹å•¦

æ’ä»¶æ˜¯å¤šæ ·åŒ–çš„ï¼Œä½†åŒæ ·ä¹Ÿæ˜¯å†…èšçš„ç»„ä»¶åŒ–çš„ã€‚ç»„ä»¶åŒ…æ‹¬backgroundè„šæœ¬ã€contentè„šæœ¬ã€é€‰é¡¹é¡µé¢ã€UIç»„ä»¶å’Œå„ç§å„æ ·çš„é€»è¾‘æ–‡ä»¶ã€‚æ’ä»¶çš„ç»„ä»¶ä¸»è¦é€šè¿‡HTMLã€CSSå’ŒJavaScriptæ¥ç¼–å†™ã€‚æ’ä»¶çš„ç»„ä»¶é€‰æ‹©å–å†³äºŽåŠŸèƒ½ï¼Œå¹¶ä¸ä¸€å®šåŒ…å«å…¨éƒ¨çš„ç»„ä»¶ã€‚

è¿™ç¯‡æ•™å­¦å°†ä¼šå¸¦ä½ ç¼–å†™ä¸€ä¸ªå¯ä»¥æ”¹å˜ç”¨æˆ·å½“å‰é¡µé¢èƒŒæ™¯é¢œè‰²çš„æ’ä»¶ã€‚æˆ‘ä»¬ä¼šç”¨åˆ°æ’ä»¶å¹³å°æ‰€ç»™äºˆçš„å¾ˆå¤šç»„ä»¶ï¼Œå¹¶å±•ç¤ºä»–ä»¬çš„ç”¨æ³•å’Œè”ç³»ã€‚

é¦–å…ˆæ–°å»ºä¸€ä¸ªæ ¹ç›®å½•ï¼Œéšä¾¿èµ·ä¸ªåå­—ç”¨æ¥è£…è¿™äº›æ’ä»¶ç›¸å…³çš„æ–‡ä»¶ã€‚

æˆ–è€…ä½ å¯ä»¥ç›´æŽ¥ä¸‹è½½æˆ‘ä»¬å†™å¥½çš„ä»£ç ï¼š[åœ¨è¿™é‡Œå“¦](https://storage.googleapis.com/web-dev-uploads/file/WlD8wC6g8khYWPJUsQceQkhXSlv1/SVxMBoc5P3f6YV3O7Xbu.zip)

## åˆ›å»ºä¸€ä¸ªmanifest

ç›˜å¤å¼€å¤©è¾Ÿåœ°ï¼Œæƒ³å†™æ’ä»¶å…ˆå»ºmanifestã€‚åœ¨åˆšæ‰æ–°å»ºçš„ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶`manifest.js`å…¶ä¸­åŒ…å«å¦‚ä¸‹ä»£ç ã€‚

{% code title="manifest.json" %}
```json
{  
  "name": "Getting Started Example",
  "description": "Build an Extension!",
  "version": "1.0",
  "manifest_version": 3
}
```
{% endcode %}

### åŠ è½½ä¸€ä¸ªå·²è§£åŽ‹çš„æ’ä»¶

åœ¨Chromeçš„å¼€å‘è€…æ¨¡å¼ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥åŠ è½½ä¸€ä¸ªåŒ…å«manifest.jsonçš„æ–‡ä»¶å¤¹ä½œä¸ºä¸€ä¸ªæ’ä»¶ã€‚è¦æƒ³åŠ è½½çš„è¯ï¼Œè·Ÿéšå¦‚ä¸‹æ­¥éª¤ï¼š

1. æ‰“å¼€Chromeï¼Œåœ¨åœ°å€æ ä¸­è¾“å…¥`chrome://extensions` &#x20;
   * æˆ–è€…ä½ å¯ä»¥é€šè¿‡å¤´åƒå·¦è¾¹é‚£ä¸ªæ‹¼å›¾æŒ‰é’®ï¼Œç‚¹å‡»åŽé€‰æ‹©ç®¡ç†æ‰©å±•ç¨‹åºæ‰“å¼€
   * æˆ–è€…ä½ å¯ä»¥é€šè¿‡ç‚¹å‡»å¤´åƒå³è¾¹é‚£ä¸‰ä¸ªç‚¹ï¼Œç‚¹å‡»åŽé€‰æ‹©æ›´å¤šå·¥å…· -> æ‰©å±•ç¨‹åºæ‰“å¼€
2. æ‰“å¼€å¼€å‘è€…æ¨¡å¼å¼€å…³
3. ç‚¹å‡»åŠ è½½å·²è§£åŽ‹ç¨‹åº

![](../.gitbook/assets/image.png)

å¥½çš„å…„å¼Ÿä»¬ï¼Œè¿™ä¸ªæ’ä»¶å’±å°±è£…å®Œäº†ã€‚å› ä¸ºæ’ä»¶çš„manifest.jsoné‡Œæ²¡å†™å¤´åƒè·¯å¾„ï¼Œæ‰€ä»¥å°±ç»™å’±ç”¨é¦–å­—æ¯è‡ªåŠ¨ç”Ÿæˆäº†ä¸€ä¸ªå¤´åƒã€‚

## æ·»åŠ åŠŸèƒ½

æ’ä»¶æ˜¯è£…å¥½äº†ï¼Œä½†æ˜¯ä»–å•¥ä¹Ÿå¹²ä¸äº†ï¼Œå› ä¸ºå’±æ²¡å†™åŠŸèƒ½å‘¢ã€‚ä¸‹é¢å’±åŠ ä¸€ä¸ªå­˜å‚¨èƒŒæ™¯é¢œè‰²å€¼çš„åŠŸèƒ½å§ã€‚

### åœ¨manifestä¸­æ³¨å†Œbackgroundè„šæœ¬

backgroundè„šæœ¬å’Œå…¶ä»–é‡è¦çš„ç»„ä»¶ä¸€æ ·ï¼Œéœ€è¦è¢«æ³¨å†Œåˆ°manifestä¸­ã€‚æ³¨å†Œæ„å‘³ç€å‘Šè¯‰æ’ä»¶éœ€è¦å¼•ç”¨å“ªä¸ªæ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶æ€Žä¹ˆæ“ä½œã€‚

{% code title="manifest.json" %}
```json
{
  "name": "Getting Started Example",
  "description": "Build an Extension!",
  "version": "1.0",
  "manifest_version": 3,
  "background": {
    "service_worker": "background.js"
  }
}n
```
{% endcode %}

çŽ°åœ¨ChromeçŸ¥é“äº†å’±çš„æ’ä»¶æœ‰ä¸€ä¸ªæœåŠ¡äº†ï¼Œå½“æˆ‘ä»¬é‡æ–°è½½å…¥æ’ä»¶æ—¶ï¼ŒChromeä¼šæ‰«æå¿…è¦çš„æ–‡ä»¶ä½œä¸ºé¢å¤–æŒ‡ä»¤ï¼Œå°±åƒæ˜¯ä¸€ä¸ªéœ€è¦éµä»Žçš„å¾ˆé‡è¦çš„æŒ‡ä»¤ã€‚

### åˆ›å»ºbackgroundè„šæœ¬æ–‡ä»¶

æ’ä»¶éœ€è¦åœ¨è¢«å®‰è£…çš„æ—¶å€™èŽ·å–åˆ°ä¸€äº›æ°¸ä¹…å˜é‡çš„ä¿¡æ¯ã€‚æˆ‘ä»¬é€šè¿‡`runtime.onInstalled`è¿™ä¸ªæ–¹æ³•æ¥å¼€å§‹èŽ·å–ã€‚åœ¨`onInstalled`ç›‘å¬å†…éƒ¨ï¼Œæ’ä»¶ä¼šè®¾ç½®ä¸€ä¸ªå˜é‡æ¥ä½¿ç”¨å­˜å‚¨çš„APIã€‚è¿™äº›å˜é‡å°†ä¼šåœ¨å…¶ä»–çš„æ’ä»¶ç»„ä»¶ä¸­ä½¿ç”¨å’Œæ›´æ–°ã€‚ä¸‹é¢æˆ‘ä»¬åœ¨æ’ä»¶ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª`backgroud.js`æ–‡ä»¶å¹¶æ·»åŠ å¦‚ä¸‹ä»£ç ã€‚

{% code title="background.js" %}
```javascript
let color = '#3aa757';

chrome.runtime.onInstalled.addListener(() => {
  chrome.storage.sync.set({ color });
  console.log('Default background color set to %cgreen', `color: ${color}`);
});
```
{% endcode %}

